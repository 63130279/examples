source('C:/R/Work/analyzeGPS/R/distanceGPS.R')
source('C:/R/Work/analyzeGPS/R/readGPS.R')
gps <- readGPS("./inst/extdata/myGPSData.csv")
getwd()
gps <- readGPS("./inst/extdata/myGPSData.csv")
NAME <- "./inst/extdata/myGPSData.csv"
gps_file <- NAME
gps_file_name <- substr(basename(gps_file), 1, nchar(basename(gps_file))-4)
gps_directory_name <- dirname(gps_file)
gps <- read.csv(gps_file, stringsAsFactors=FALSE)
return(gps)
d <- distanceGPS(lat1 = gps$lat[1:(length(gps$lat)-1)], lon1 = gps$lon[1:(length(gps$lon)-1)],
lat2 = gps$lat[2:length(gps$lat)], lon2 = gps$lon[2:length(gps$lon)])
source('C:/R/Work/analyzeGPS/R/distanceGPS.R')
d <- distanceGPS(lat1 = gps$lat[1:(length(gps$lat)-1)], lon1 = gps$lon[1:(length(gps$lon)-1)],
lat2 = gps$lat[2:length(gps$lat)], lon2 = gps$lon[2:length(gps$lon)])
gpxdatum <- as.POSIXct(gps$time, format = "%Y-%m-%dT%H:%M:%SZ", tz="Europe/Ljubljana")
time()
time_delta <- as.numeric(timeVec[2:length(timeVec)] - timeVec[1:(length(timeVec)-1)])
timeVec <- gpxdatum
time_delta <- as.numeric(timeVec[2:length(timeVec)] - timeVec[1:(length(timeVec)-1)])
View(gps)
speed <- 3.6 * distanceVec / delta_time
speed <- 3.6 * d / delta_time
speed <- 3.6 * d / time_delta
View(speed)
speed <- 3600 * d / time_delta
View(speed)
source('C:/R/Work/analyzeGPS/R/speedGPS.R')
gpxdatum <- as.POSIXct(gps$time, format = "%Y-%m-%dT%H:%M:%SZ")
source('C:/R/Work/analyzeGPS/R/speedGPS.R')
source('C:/R/Work/analyzeGPS/R/speedGPS.R')
speed <- speedGPS(gps$time, d)
speedVec <- speed
delta_speed <- speedVec[2:length(speedVec)] - speedVec[1:(length(speedVec)-1)]
source('C:/R/Work/analyzeGPS/R/speedGPS.R')
speed <- speedGPS(gps$time, d)
source('C:/R/Work/analyzeGPS/R/accGPS.R')
speedVec <- speed
delta_speed <- speedVec[2:length(speedVec)] - speedVec[1:(length(speedVec)-1)]
delta_time <- time_delta
acc <- (delta_speed / 3.6) / delta_time
source('C:/R/Work/analyzeGPS/R/accGPS.R')
source('C:/R/Work/analyzeGPS/R/accGPS.R')
acc <- accGPS(gps$time, speed)
source('C:/R/Work/analyzeGPS/R/gradeGPS.R')
source('C:/R/Work/analyzeGPS/R/gradeGPS.R')
grade <- accGPS(gps$ele, d)
source('C:/R/Work/analyzeGPS/R/gradeGPS.R')
grade <- gradeGPS(gps$ele, d)
source('C:/R/Work/analyzeGPS/R/gradeGPS.R')
library(roxygen2)
library(devtools)
document()
document()
devtools::check()
document()
devtools::check()
document()
document()
devtools::check()
document()
document()
devtools::check()
document()
devtools::check()
library(analyzeGPS)
check_doc("analyzeGPS")
document()
check_doc("analyzeGPS")
document()
check_doc("analyzeGPS")
library(devtools)
library(roxygen2)
document()
check_doc("analyzeGPS")
library(analyzeGPS)
?accGPS
document()
document()
document()
check_doc("analyzeGPS")
devtools::check()
library(analyzeGPS)
library(analyzeGPS)
?accGPS
document()
check_doc("analyzeGPS")
library(analyzeGPS)
?accGPS
devtools::use_vignette("GPS-basics-walkthrough")
library("ggplot2", lib.loc="C:/R/Rlibs")
myGPSData
?
myGPSData
data(myGPSData)
library(analyzeGPS)
data(myGPSData)
?myGPSData
document()
library(analyzeGPS)
data(myGPSData)
data(myGPSData, package = "analyzeGPS")
document()
library(analyzeGPS)
fpath <- system.file("extdata", "myGPSData.csv", package="analyzeGPS")
fpath
document()
library(analyzeGPS)
library(analyzeGPS)
library(analyzeGPS)
data(myGPSData)
document
document()
library(analyzeGPS)
?myGPSData
library(analyzeGPS)
?myGPSData
library(analyzeGPS)
?myGPSData
library(analyzeGPS)
?myGPSData
data(myGPSData)
library("analyzeGPS", lib.loc="C:/R/Rlibs")
data(myGPSData)
analyzeGPS
myGPSData
library(analyzeGPS)
?myGPSData
??ggmap
??get_googlemap
library("ggplot2", lib.loc="C:/R/Rlibs")
library("ggmap", lib.loc="C:/R/Rlibs")
ggmap(get_googlemap())
mean(gps$lon)
mean(gps$lat)
ggmap(get_googlemap(center = c(lon = mean(gps$lon), lat = mean(gps$lat))))
ggmap(get_googlemap(center = c(lon = mean(gps$lon), lat = mean(gps$lat)))) + geom_point(data = gps, aes(x = lon, y = lat))
ggmap(get_googlemap(center = c(lon = mean(gps$lon), lat = mean(gps$lat)), zoom = 11)) + geom_point(data = gps, aes(x = lon, y = lat))
ggmap(get_googlemap(center = c(lon = mean(gps$lon), lat = mean(gps$lat)), zoom = 12)) + geom_point(data = gps, aes(x = lon, y = lat))
??lines3D
library(plot3D)
lines3D(gps$lon, gps$lat, gps$ele, phi = 10, theta = 20)
image3D(x=gps$lon, y=gps$lat, z=gps$ele, phi = 10, theta = 20)
image3D(x=gps$lon, y=gps$lat, z=1, phi = 10, theta = 20)
library(rgl)
plot3d(gps$lon, gps$lat, gps$ele)
surface3d(gps$lon, gps$lat, gps$ele)
surface3d(gps$lon, gps$lat,)
surface3d(gps$lon, gps$lat)
library(analyzeGPS)
library(analyzeGPS)
library(analyzeGPS)
distnaceGPS(45.5, 16.7)
distanceGPS(45.5, 16.7)
library(analyzeGPS)
browseVignettes("analyzeGPS")
library("analyzeGPS", lib.loc="C:/R/Rlibs")
devtools::load_all(".")
str(speed)
head(gps)
str(gps)
opts_knit
options
options()
options$width
options()$width
options(width = 80)
options$width
options()$width
options()$width
options()$width
library(analyzeGPS)
plot(speed)
which.max(speed)
speed(7759)
speed[7759]
head(speed)
head(speed[-1])
as.POSIXct(gps$tz_CEST[1:10], format = "%Y-%m-%d %H:%M:%S")
library(plot3D)
gps$tz_CEST <- as.POSIXct(gps$tz_CEST, format = "%Y-%m-%d %H:%M:%S")
lines3D(gps$tz_CEST, gps$dist, gps$speed, phi = 10, theta = 20)
lines3D(gps$dist, gps$ele, gps$speed, phi = 10, theta = 20)
gps$speed <- speed
gps$d <- c(0, d)
str(gps$d)
str(gps$dist)
gps$dist <- cumsum(gps$d)
lines3D(gps$dist, gps$ele, gps$speed, phi = 10, theta = 20)
lines3D(gps$dist, gps$ele, gps$speed, phi = 10, theta = 40)
lines3D(gps$dist, gps$ele, gps$speed, phi = 10, theta = 80)
lines3D(gps$dist, gps$ele, gps$speed, phi = 10, theta = 50)
lines3D(gps$dist, gps$ele, gps$speed, phi = 10, theta = 60)
lines3D(gps$dist, gps$speed, gps$ele, phi = 10, theta = 60)
ggmap(get_googlemap(center = c(lon = gps$lon[10], lat = gps$lat[10]), zoom = 15, size = c(720, 720))) +
geom_point(data = gps, aes(x = lon, y = lat))
library(ggmap)
ggmap(get_googlemap(center = c(lon = gps$lon[10], lat = gps$lat[10]), zoom = 15, size = c(720, 720))) +
geom_point(data = gps, aes(x = lon, y = lat))
ggmap(get_googlemap(center = c(lon = gps$lon[100], lat = gps$lat[100]), zoom = 15, size = c(720, 720))) +
geom_point(data = gps, aes(x = lon, y = lat))
ggmap(get_googlemap(center = c(lon = gps$lon[1000], lat = gps$lat[1000]), zoom = 15, size = c(720, 720))) +
geom_point(data = gps, aes(x = lon, y = lat))
ggmap(get_googlemap(center = c(lon = gps$lon[1000], lat = gps$lat[1000]), zoom = 13, size = c(720, 720))) +
geom_point(data = gps, aes(x = lon, y = lat))
ggmap(get_googlemap(center = c(lon = gps$lon[500], lat = gps$lat[500]), zoom = 13, size = c(720, 720))) +
geom_point(data = gps, aes(x = lon, y = lat))
ggmap(get_googlemap(center = c(lon = gps$lon[5000], lat = gps$lat[5000]), zoom = 13, size = c(720, 720))) +
geom_point(data = gps, aes(x = lon, y = lat))
library(zoo)
speed_smooth <- rollmean(gps$speed[-1],10)
test <- c(NA, speed_smooth, tail(gps$speed,10))
test <- c(NA, speed_smooth, tail(gps$speed,9))
gps$speed_smooth <- c(NA, speed_smooth, tail(gps$speed,9))
acc <- accGPS(gps$time, gps$speed_smooth)
ggplot(data = gps, aes(x = dist, y = acc)) + geom_line()
ggplot(data = gps, aes(x = speed_smooth, y = acc)) + geom_line()
ggplot(data = gps, aes(x = acc, y = speed_smooth)) + geom_line()
ggplot(data = gps, aes(x = acc, y = dist)) + geom_line()
grade <- gradeGPS(gps$ele, d)
distanceVec <- gps$d * 1000
delta_ele <- gps$ele[2:length(gps$ele)] - gps$ele[1:(length(gps$ele)-1)]
grade <- delta_ele / distanceVec
grade <- delta_ele / distanceVec[-1]
library(analyzeGPS)
ggplot(data = gps, aes(x = dist, y = grade)) + geom_line()
grade <- gradeGPS(gps$ele, gps$d)
rm(grade)
grade <- gradeGPS(gps$ele, gps$d)
rm(grade)
grade <- gradeGPS(gps$ele, gps$d)
debugSource('C:/R/Work/analyzeGPS/R/gradeGPS.R')
source('C:/R/Work/analyzeGPS/R/gradeGPS.R')
grade <- gradeGPS(gps$ele, gps$d)
gps$grade <- c(NA, grade)
ggplot(data = gps, aes(x = dist, y = grade)) + geom_line()
ggplot(data = gps, aes(x = grade, y = speed)) + geom_line()
ggplot(data = gps, aes(x = grade, y = acc)) + geom_line()
ggplot(data = gps, aes(x = ele, y = grade)) + geom_line()
library(analyzeGPS)
library("analyzeGPS", lib.loc="C:/R/Rlibs")
library(devtools)
library(roxygen2)
document()
devtools::build()
library(analyzeGPS)
?analyzeGPS
?gradeeGPS
?gradeGPS
library(analyzeGPS)
library(analyzeGPS)
library(analyzeGPS)
library(analyzeGPS)
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
library(analyzeGPS)
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
library(analyzeGPS)
devtools::build_vignettes()
source('C:/R/Work/analyzeGPS/R/distanceGPS.R')
source('C:/R/Work/analyzeGPS/R/readGPS.R')
source('C:/R/Work/analyzeGPS/R/speedGPS.R')
source('C:/R/Work/analyzeGPS/R/accGPS.R')
source('C:/R/Work/analyzeGPS/R/gradeGPS.R')
d <- distanceGPS(lat1 = gps$lat[1:(length(gps$lat)-1)], lon1 = gps$lon[1:(length(gps$lon)-1)],
lat2 = gps$lat[2:length(gps$lat)], lon2 = gps$lon[2:length(gps$lon)])
speed <- speedGPS(gps$time, d)
timeVec <- as.POSIXct(gps$time, format = "%Y-%m-%dT%H:%M:%SZ")
delta_time <- as.numeric(timeVec[2:length(timeVec)] -
timeVec[1:(length(timeVec)-1)])
speed <- 3600 * d / delta_time
acc <- accGPS(gps$time, speed)
speedVec <- speed
delta_speed <- speedVec[2:length(speedVec)] - speedVec[1:(length(speedVec)-1)]
library(analyzeGPS)
data_file <- system.file("extdata", "myGPSData.csv", package="analyzeGPS")
gps <- readGPS(data_file)
d <- distanceGPS(lat1 = gps$lat[1:(length(gps$lat)-1)], lon1 = gps$lon[1:(length(gps$lon)-1)],
lat2 = gps$lat[2:length(gps$lat)], lon2 = gps$lon[2:length(gps$lon)])
gps$d <- c(0, d)
gps$dist <- cumsum(gps$d)
speed <- speedGPS(gps$time, gps$d[-1])
gps$speed <- c(NA, speed)
speed_smooth <- rollmean(gps$speed[-1],10)
gps$speed_smooth <- c(NA, speed_smooth, tail(gps$speed,9))
test <- c(NA, speed_smooth, tail(gps$speed,9))
acc <- accGPS(gps$time, gps$speed_smooth)
gps$acc <- c(NA, acc)
grade <- gradeGPS(gps$ele, gps$d)
gps$grade <- c(NA, grade)
devtools::build_vignettes()
library(analyzeGPS)
library(analyzeGPS)
library(analyzeGPS)
devtools::build_vignettes()
library(analyzeGPS)
library(ggmap)
library(devtools)
library(roxygen2)
library(analyzeGPS)
devtools::build_vignettes()
library(analyzeGPS)
devtools::build_vignettes()
library(analyzeGPS)
library(analyzeGPS)
devtools::build_vignettes()
library(analyzeGPS)
devtools::build_vignettes()
library(analyzeGPS)
devtools::build_vignettes()
library(analyzeGPS)
document()
library(roxygen2)
library(devtools)
document()
devtools::build_vignettes()
library(analyzeGPS)
document()
devtools::build_vignettes()
library(analyzeGPS)
data_file <- system.file("extdata", "myGPSData.csv", package="analyzeGPS")
gps <- readGPS(data_file)
gps_file <- data_file
gps <- read.csv(gps_file, stringsAsFactors=FALSE)
source('C:/R/Work/analyzeGPS/R/distanceGPS.R')
d <- distanceGPS(lat1 = gps$lat[1:(length(gps$lat)-1)], lon1 = gps$lon[1:(length(gps$lon)-1)], lat2 = gps$lat[2:length(gps$lat)], lon2 = gps$lon[2:length(gps$lon)])
source('C:/R/Work/analyzeGPS/R/speedGPS.R')
speed <- speedGPS(gps$time, d)
speed2 <- speed * 3.6
source('C:/R/Work/analyzeGPS/R/accGPS.R')
acc <- accGPS(gps$time, speed)
source('C:/R/Work/analyzeGPS/R/gradeGPS.R')
grade <- gradeGPS(gps$ele, d)
source('C:/R/Work/analyzeGPS/R/gradeGPS.R')
grade <- gradeGPS(gps$ele, d)
acc <- accGPS(gps$time, speed)
delta_time <- as.numeric(gps$time[2:length(gps$time)] -
gps$time[1:(length(gps$time)-1)])
delta_time <- as.numeric(gps$time[2:length(gps$time)] - gps$time[1:(length(gps$time)-1)])
delta_time <- (gps$time[2:length(gps$time)] - gps$time[1:(length(gps$time)-1)])
timeVec <- as.POSIXct(gps$time, format = "%Y-%m-%dT%H:%M:%SZ")
delta_time <- as.numeric(timeVec[2:length(timeVec)] -
timeVec[1:(length(timeVec)-1)])
speedVec <- speed
delta_speed <- speedVec[2:length(speedVec)] - speedVec[1:(length(speedVec)-1)]
acc2 <- delta_speed / delta_time[-1]
plot(grade, type = "l")
library
library(zoo)
plot(rollmean(grade, 70), type = "l")
plot(rollmean(grade, 100), type = "l")
summary(grade)
summary(rollmean(grade, 70))
summary(rollmean(grade, 100))
summary(rollmean(grade, 10))
test <- rollmean(grade, 100)
plot(gps$ele, type = "l")
grade2 <- gradeGPS(rollmean(gps$ele, 70), d[1:7701])
plot(grade2, type = "l")
plot(rollmean(grade, 70), type = "l")
plot(rollmean(gps$ele, 70), type = "l")
plot(gps$ele, type = "l")
cumsum(d)
source('C:/R/Work/analyzeGPS/R/distanceGPS.R')
source('C:/R/Work/analyzeGPS/R/readGPS.R')
source('C:/R/Work/analyzeGPS/R/speedGPS.R')
source('C:/R/Work/analyzeGPS/R/accGPS.R')
source('C:/R/Work/analyzeGPS/R/gradeGPS.R')
data_file <- system.file("extdata", "myGPSData.csv", package="analyzeGPS")
gps <- readGPS(data_file)
str(gps, strict.width = "wrap")
d <- distanceGPS(lat1 = gps$lat[1:(length(gps$lat)-1)], lon1 = gps$lon[1:(length(gps$lon)-1)],
lat2 = gps$lat[2:length(gps$lat)], lon2 = gps$lon[2:length(gps$lon)])
gps$d <- c(0, d)
gps$dist <- cumsum(gps$d)
library(ggplot2)
ggplot(data = gps, aes(x = dist/1000, y = ele)) +
geom_line() +
xlab("Distance [km]") +
ylab("Elevation [m]")
speed <- speedGPS(gps$time, gps$d[-1])
str(speed)
mean(speed, na.rm = TRUE)
max(speed, na.rm = TRUE)
min(speed, na.rm = TRUE)
gps$speed <- c(NA, speed)
ggplot(data = gps, aes(x = dist/1000, y = speed*3.6)) +
geom_line() +
xlab("Distance [km]") +
ylab("Speed [km/h]")
library(zoo)
speed_smooth <- rollmean(gps$speed[-1],10)
gps$speed_smooth <- c(NA, speed_smooth, tail(gps$speed,9))
ggplot(data = gps, aes(x = dist/1000, y = speed_smooth*3.6)) +
geom_line() +
xlab("Distance [km]") +
ylab("Smoothed speed [km/h]")
acc <- accGPS(gps$time, gps$speed_smooth)
mean(acc, na.rm = TRUE)
max(acc, na.rm = TRUE)
min(acc, na.rm = TRUE)
gps$acc <- c(NA, acc)
ggplot(data = gps, aes(x = dist/1000, y = acc)) +
geom_line() +
xlab("Distance [km]") +
ylab("Acceleration [m/s^2]")
grade <- gradeGPS(gps$ele, gps$d)
delta_ele <- gps$ele[2:length(gps$ele)] - gps$ele[1:(length(gps$ele)-1)]
grade <- delta_ele / gps$d[-1]
library(analyzeGPS)
?accGPS
library(analyzeGPS)
devtools::build_vignettes()
grade <- gradeGPS(gps$ele, gps$d)
gradeGPS
source('C:/R/Work/analyzeGPS/R/gradeGPS.R')
library(analyzeGPS)
library(analyzeGPS)
devtools::build_vignettes()
library(analyzeGPS)
library(analyzeGPS)
